<page-status
  loading="{{loading}}"
  error="{{error}}"
  errorText="{{errorMsg}}"
  empty="{{post.length === 0 && !loading && !error}}"
  emptyText="{{emptyText}}"
  hasMore="{{hasMore}}"
  noMoreText="{{noMoreText}}"
  bind:retry="handleRetry"
  bind:loadmore="loadMore"
>
  <!-- DEBUG信息 -->
  <view wx:if="{{post.length === 0 && !loading && !error}}" class="debug-info">
    <text>post长度: {{post.length}}</text>
    <text>loading: {{loading}}</text>
    <text>error: {{error}}</text>
  </view>

  <view class="post-list">
    <!-- 帖子列表 -->
    <block wx:for="{{post}}" wx:key="_id">
      <post-item 
        post="{{item}}" 
        currentOpenid="{{currentOpenid}}"
        showActions="{{true}}"
        showComments="{{true}}"
        showFollow="{{true}}"
        data-id="{{item.id}}"
        data-index="{{index}}"
        index="{{index}}"
        bind:posttap="handlePostTap"
        bind:like="handleLike"
        bind:favorite="handleFavorite" 
        bind:comment="handleComment"
        bind:follow="handleFollow"
        bind:usertap="handleUserTap"
      />
    </block>
  </view>
  
  <!-- 空状态按钮 -->
  <view slot="empty-action" wx:if="{{empty && showEmptyBtn}}">
    <button class="empty-btn primary-btn" bindtap="handleEmptyBtnTap">{{emptyBtnText}}</button>
  </view>
</page-status>