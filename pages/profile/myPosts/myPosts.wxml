<!-- 顶部标题栏 -->
<nav-bar
  title="我的帖子"
  nav-buttons="{{navButtons}}"
/>

<view class="container">
  <!-- 内容区域 -->
  <view class="content-area">
    <cell-status
      loading="{{loading}}"
      error="{{error}}"
      errorMsg="{{errorMsg}}"
      bindretry="onRetry">

      <!-- 帖子列表 -->
      <post-list
        posts="{{posts}}"
        loading="{{loading}}"
        error="{{error}}"
        empty="{{!loading && !error && posts.length === 0}}"
        emptyText="暂无帖子"
        hasMore="{{hasMore}}"
        bind:postTap="onPostTap"
        bind:postAction="onPostAction"
        bind:loadMore="onLoadMore"
      ></post-list>
    </cell-status>
  </view>

  <!-- 顶部通知 -->
  <mp-toptips msg="{{toptipsMsg}}" type="{{toptipsType}}" show="{{toptipsShow}}"></mp-toptips>

  <!-- 确认对话框 -->
  <mp-dialog
    title="{{dialogTitle}}"
    show="{{showDialog}}"
    buttons="{{dialogButtons}}"
    bindbuttontap="onDialogAction"
  >
    <view>{{dialogContent}}</view>
  </mp-dialog>
</view>

<!-- 新建帖子按钮 -->
<floating-button
  icon="add"
  text="发帖"
  bind:tap="onNewPost"
/> 