## 环境

WSL ubuntu24.04
这是一个微信小程序项目，运行在手机上，写样式时需要自适应设备屏幕参数。

### 日志

一般情况日志使用debug级别，不要使用info级别，只有最重要的信息采用info级别。

## 代码规范

代码简洁、高效，不要过长，不要加过多健壮性代码。
绝大多数情况命名用小写单数。
markdown代码遵循vscode的markdownlint规范。
你应该熟悉微信小程序开发的特殊语法，微信云+私有云混合开发最佳实践，搜索互联网，现代微信小程序开发和页面美化最佳实践。
命名默认小写，缩写用大写，类名首字母大写，驼峰命名用大写，如果下划线能清楚分割用小写。
绝大多数情况用**单数**命名字段和路径等。

## 项目简介

nkuwiki校园知识共享平台

## 前端

项目结构
pages/ 页面
icons/ 图标
behaviors/ 行为
components/ 自定义组件
    icon/
    post-list/
    text-area/
    image-uploader/
    source-list/
    towxml/
    weui/
utils/ 通用工具函数
    util.js
app.json 配置
app.js 入口
api_docs.md api文档
README.md 项目简介，开发指南
sitemap.json 爬虫配置
project.config.json 项目配置

**你应该先了解项目中已经实现的方法或组件再写新代码，不要造轮子**
最大程度复用components、behaviors、utils有的代码
搜索互联网，熟悉现代微信小程序开发和页面美化最佳实践。
components/icon统一管理icon，icon映射到icons/目录
最佳实践是基于weui-miniprogram组件库components/weui定制自定义组件
此外还有towxml等第三方组件
behaviors/中定义行为，封装了很多api交互方法，baseBehavior中定义了基础行为，有很多实用方法
其他行为主要负责与后端api交互，方法名由下划线开头：userBehavior中定义了用户行为，authBehavior中定义了认证行为，postBehavior中定义了帖子行为，commentBehavior中定义了评论行为，knowledgeBehavior中定义了知识库行为
utils/util.js中有工具函数和api工厂createApiClient方法，调用的时候必须符合api文档，不能乱写路径
utils/util.js中定义了ui、storage、ToastType等对象全局管理

## 任务

调试小程序，最大程度复用代码。不需要写任何兼容性代码，旧代码直接删。
前端接收响应的字段名最好跟后端完全一致，不要做兼容性处理。

现在需要调试内容审核系统。

三个文件各司其职，不要混合。
banwords.js中定义敏感词和模式，可以自动生成模式和组合
text-censor.js中定义检测方法，
contentSecurity.js应该最大程度复用banwords.js和text-censor.js的代码，
不要在text-censor.js和contentSecurity.js硬编码以及特殊处理，保证泛化能力












